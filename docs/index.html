<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Dorks Terminal</title>
    <style>
        :root {
            --background-color: #0c0c0c;
            --text-color: #00ff41;
            --border-color: #00ff41;
            --highlight-color: #00ff41;
            --secondary-text: #00b341;
        }


        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            scrollbar-width: thin;
            scrollbar-color: var(--highlight-color) var(--background-color);
        }


        html, body {
            height: 100%;
            overflow-x: hidden;
        }


        body {
            font-family: 'Hack', 'Courier New', monospace;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }


        .terminal {
            width: 100%;
            max-width: 1200px;
            height: calc(100vh - 40px);
            max-height: 900px;
            background-color: rgba(0,0,0,0.9);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 0 15px rgba(0,255,65,0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }


        .terminal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }


        h1 {
            color: var(--highlight-color);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 1.5rem;
            text-shadow: 0 0 10px rgba(0,255,65,0.5);
        }


        .social-links {
            display: flex;
            gap: 15px;
        }


        .social-links a {
            color: var(--secondary-text);
            text-decoration: none;
            transition: color 0.3s ease;
        }


        .social-links a:hover {
            color: var(--highlight-color);
            text-shadow: 0 0 5px rgba(0,255,65,0.5);
        }


        .search-container {
            margin-bottom: 20px;
        }


        .terminal-input {
            width: 100%;
            background-color: transparent;
            border: none;
            border-bottom: 2px solid var(--border-color);
            color: var(--text-color);
            font-family: 'Hack', monospace;
            font-size: 1rem;
            padding: 10px 0;
            outline: none;
        }


        .terminal-input::placeholder {
            color: var(--secondary-text);
        }


        #dorkList {
            list-style-type: none;
            max-height: calc(100vh - 300px);
            overflow-y: auto;
            flex-grow: 1;
        }


        #dorkList li {
            background-color: rgba(0,255,65,0.05);
            border-left: 3px solid var(--border-color);
            padding: 10px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }


        #dorkList li:hover {
            background-color: rgba(0,255,65,0.1);
            border-left-color: var(--highlight-color);
        }


        #dorkList a {
            color: var(--text-color);
            text-decoration: none;
            word-break: break-all;
        }


        #dorkList a:hover {
            text-decoration: underline;
        }


        .description {
            color: var(--secondary-text);
            font-size: 0.8rem;
            margin-bottom: 5px;
        }


        /* Custom Scrollbar */
        #dorkList::-webkit-scrollbar {
            width: 8px;
        }


        #dorkList::-webkit-scrollbar-track {
            background: var(--background-color);
        }


        #dorkList::-webkit-scrollbar-thumb {
            background-color: var(--highlight-color);
            border-radius: 4px;
        }


        @media (max-width: 768px) {
            .terminal {
                height: 100vh;
                max-height: none;
                border: none;
                border-radius: 0;
                padding: 10px;
            }


            h1 {
                font-size: 1.2rem;
            }


            #dorkList {
                max-height: calc(100vh - 250px);
            }
        }


        /* Cursor Blink Effect */
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }


        .terminal-input::after {
            content: '_';
            animation: blink 1s infinite;
        }
    </style>
</head>
<body>
    <div class="terminal">
        <div class="terminal-header">
            <h1>Google Dorks Terminal</h1>
            <div class="social-links">
                <a href="https://twitter.com/TakSec" target="_blank">@TakSec</a>
                <a href="https://github.com/TakSec/google-dorks-bug-bounty/" target="_blank">GitHub</a>
            </div>
        </div>


        <div class="search-container">
            <input 
                type="text" 
                id="domainInput" 
                class="terminal-input" 
                placeholder="Enter domain(s) | example.com, target.com" 
                oninput="updateDomain()"
            >
        </div>


        <ul id="dorkList"></ul>
    </div>

    <script>
        const domainInput = document.getElementById('domainInput');
        const tooltip = document.getElementById('tooltip');

        domainInput.addEventListener('mouseover', function() {
            tooltip.style.display = 'block';
            tooltip.style.left = domainInput.offsetLeft + 'px';
            tooltip.style.top = (domainInput.offsetTop + domainInput.offsetHeight + 5) + 'px';
        });

        domainInput.addEventListener('mouseout', function() {
            tooltip.style.display = 'none';
        });
        
        let originalDorks = [];
        
        async function fetchDorks() {
            const url = "https://raw.githubusercontent.com/TakSec/google-dorks-bug-bounty/main/README.md";
            const response = await fetch(url);
            const text = await response.text();

            const dorkList = document.getElementById("dorkList");
            const regex = /(?:^### (.+)|```([^`]+)```)/gm;
            let match;
            let title = '';
            let firstDork = true;

            while ((match = regex.exec(text)) !== null) {
        if (match[1]) {
            // Title match
            title = match[1];
        } else if (match[2]) {
            // Dork match
            const dork = match[2].trim();
            originalDorks.push(dork);
            const listItem = createDorkListItem(dork, title);
            dorkList.appendChild(listItem);
        }
    }
    filterDorks();

    }
        
    let prevTitle = '';

        function createDorkListItem(dork, description) {
            const googleLink = `https://www.google.com/search?q=${encodeURIComponent(dork)}`;

            const listItem = document.createElement("li");

            if (description && description !== prevTitle) {
                const desc = document.createElement("p");
                desc.textContent = description;
                desc.classList.add("description");
                listItem.appendChild(desc);
                prevTitle = description;
            }

            const link = document.createElement("a");
            link.href = googleLink;
            link.textContent = dork;
            link.classList.add("dorkLink");
            link.target = "_blank";

            listItem.appendChild(link);

            return listItem;
        }

        function updateDomain() {
            const domainInput = document.getElementById("domainInput");
            const domains = domainInput.value.split(",").map(domain => domain.trim());
        
            if (domains.length === 0) return;
        
            const dorkLinks = document.querySelectorAll(".dorkLink");
            dorkLinks.forEach((link, index) => {
                let originalDork = originalDorks[index];
                
                // Check if the dork is related to Drupal and skip modification
                if (originalDork.includes("Drupal")) {
                    return; // Skip any modification if it's a Drupal related dork
                }

                // For site:example.com
                if (/site:"?example\[?\.\]?com"?/i.test(originalDork)) {
                    const joinedDomains = domains.map(d => `site:${d}`).join(" | ");
                    originalDork = originalDork.replace(/site:"?example\[?\.\]?com"?/gi, joinedDomains);
                }
                
                // For "example.com"
                else if (/["']example\[?\.\]?com["']/i.test(originalDork)) {
                    const joinedDomains = domains.map(d => `"${d}"`).join(" | ");
                    originalDork = originalDork.replace(/["']example\[?\.\]?com["']/gi, joinedDomains);
                }
                
                // For intext:"example.com" and similar patterns
                const intextPattern = /intext:"example\.com"/gi;
                if (intextPattern.test(originalDork)) {
                    const joinedDomains = domains.map(d => `intext:"${d}"`).join(" | ");
                    updatedDork = originalDork.replace(intextPattern, joinedDomains);
                }
                // Update intext:"" for all domains after the first
                if (originalDork.includes('intext:"')) {
                    const joinedDomains = domains.map((d, idx) => idx === 0 ? `intext:"${d}"` : `intext:"${d}"`).join(" | ");
                    originalDork = originalDork.replace(/intext:"([^"]+)"/gi, joinedDomains);
                    originalDork = originalDork.replace(/ \| "([^"]+)"/gi, " | ");
                }

                const updatedLink = `https://www.google.com/search?q=${encodeURIComponent(originalDork)}`;
            
                link.textContent = originalDork;
                link.href = updatedLink;
            });
        }
        
        fetchDorks();
        
        function filterDorks() {
    const dorkItems = document.querySelectorAll("#dorkList li");
    dorkItems.forEach(item => {
        if (item.textContent.toLowerCase().includes("omit")) {
            item.style.display = "none";
        }
    });
}

    </script>
</body>
</html>
